# Railway PostgreSQL Configuration
# Copy this file to .env.prod and fill in your Railway credentials
# DO NOT commit .env.prod to git - it contains secrets

# ==========================================
# Railway PostgreSQL Connection Details
# ==========================================
# Get these values from Railway dashboard:
# 1. Click on PostgreSQL in your project
# 2. Click "Connect" tab
# 3. Copy the values below

# Host (without protocol)
POSTGRES_HOST=your-hostname.railway.app

# Port (usually 5432)
POSTGRES_PORT=5432

# Database name (default: railway)
POSTGRES_DB=railway

# Username (default: postgres)
POSTGRES_USER=postgres

# Password (copy from Railway Connection String or Password field)
POSTGRES_PASSWORD=your_secure_password_here

# Full connection string (optional, for reference)
# PostgreSQL://[user]:[password]@[hostname]:[port]/[database]
DATABASE_URL=postgresql://postgres:your_password_here@your-hostname.railway.app:5432/railway

# ==========================================
# SSL Configuration (Required for Railway)
# ==========================================
# Railway requires SSL connections
POSTGRES_SSL_MODE=require

# ==========================================
# Airflow Configuration (Optional)
# ==========================================
# Only needed if deploying Airflow with this database

# Airflow home directory
AIRFLOW_HOME=/home/airflow/gce

# Airflow DAGs folder
AIRFLOW__CORE__DAGS_FOLDER=/home/airflow/gce/dags

# Airflow webserver settings
AIRFLOW__CORE__LOAD_EXAMPLES=False
AIRFLOW__WEBSERVER__LOAD_EXAMPLES=False

# Airflow database connection (use your Railway database)
AIRFLOW__CORE__SQL_ALCHEMY_CONN=postgresql://postgres:your_password_here@your-hostname.railway.app:5432/railway

# Airflow authentication
AIRFLOW__CORE__UNIT_TEST_MODE=False

# ==========================================
# Instructions
# ==========================================
# 1. Fill in POSTGRES_HOST from Railway dashboard Connection tab
# 2. Fill in POSTGRES_PASSWORD (you may need to decode it from the full URI)
# 3. Save as .env.prod in project root
# 4. Run: python test_railway_connection.py
# 5. See RAILWAY_DEPLOYMENT.md for detailed setup guide
